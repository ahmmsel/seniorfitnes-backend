<?php

namespace Database\Seeders;

use App\Models\Workout;
use App\Models\Exercise;
use Illuminate\Database\Seeder;

class WorkoutSeeder extends Seeder
{
    public function run()
    {
        // قائمة المجموعات مع الأسماء بالعربي
        $groups = [
            'chest'     => 'تمارين الصدر',
            'shoulders' => 'تمارين الأكتاف',
            'arms'      => 'تمارين البايسبس',
            'abs'       => 'تمارين البطن',
            'leg'       => 'تمارين الأرجل',
            'back'      => 'تمارين الظهر',
        ];

        // التمارين لكل مجموعة
        $groupExercises = [
            'chest' => [
                'ضغط بنش',
                'ضغط دمبل مستوي',
                'ضغط مائل عالي',
                'تفتيح دمبل',
                'تفتيح كيبل'
            ],
            'shoulders' => [
                'رفع جانبي',
                'ضغط كتف بار',
                'ضغط كتف دمبل',
                'رفع أمامي',
                'رفرفة خلفية'
            ],
            'arms' => [
                // Biceps
                'بار بايسبس',
                'دمبل بايسبس',
                'بايسبس تركيز',
                'بايسبس حبل',
                'بايسبس عكسي',
                // Triceps
                'ضغط ترايسبس',
                'تمديد ترايسبس خلف الرأس',
                'كيبل ترايسبس',
                'ترايسبس دمبل',
                'ترايسبس عكسي'
            ],
            'abs' => [
                'بلانك',
                'كرانش',
                'رفع أرجل',
                'تويست روسي',
                'تمرين الدراجة'
            ],
            'leg' => [
                'سكوات',
                'لانجز',
                'ليج برس',
                'رفعة رومانية',
                'إطالة خلفية'
            ],
            'back' => [
                'سحب أرضي',
                'سحب علوي',
                'دمبل رو',
                'بار رو',
                'سحب كيبل ضيق'
            ],
        ];

        // تعليمات لكل مجموعة
        $instructions = [
            'chest' =>
            'حافظ على ثبات الكتفين وادفع باستخدام عضلات الصدر فقط. ارفع الوزن ببطء وتحكم.',
            'shoulders' =>
            'ارفع الوزن دون تأرجح وتجنب استخدام الظهر. ركّز على حركة الكتف فقط.',
            'arms' =>
            'ركز على انقباض العضلات عند أعلى الحركة واهبط ببطء للتحكم الأفضل. يشمل هذا البرنامج تمارين لكل من البايسبس والترايسبس.',
            'abs' =>
            'شد البطن طوال التمرين وتجنب سحب الرقبة. ركّز على الحركة من الجذع.',
            'leg' =>
            'انزل حتى مستوى مناسب وادفع باستخدام عضلات الفخذ، مع الحفاظ على الظهر مستقيمًا.',
            'back' =>
            'اسحب الوزن نحو الجسم مع إبقاء الكتفين للخلف لتفعيل عضلات الظهر.',
        ];

        // وصف التمرين لكل مجموعة
        $descriptions = [
            'chest' =>
            'برنامج تدريبي يستهدف عضلات الصدر العلوية والوسطى والسفلية لزيادة القوة والكتلة العضلية.',
            'shoulders' =>
            'برنامج متكامل لتمرين الأكتاف الأمامية والجانبية والخلفية لتحسين القوة والتناسق.',
            'arms' =>
            'برنامج لزيادة حجم وقوة عضلات الذراع (بايسبس وترايسبس) عبر تمارين العزل والحركات المركبة.',
            'abs' =>
            'برنامج قوي لشد وتقوية عضلات البطن وتحسين ثبات الجسم.',
            'leg' =>
            'برنامج شامل لتقوية عضلات الأرجل والفخذين وأوتار الركبة.',
            'back' =>
            'برنامج يستهدف تقوية عضلات الظهر العلوية والسفلية وتحسين وضعية الجسم.',
        ];

        // إنشاء Workouts وربط التمارين
        foreach ($groups as $slug => $arabicName) {

            // 1) إنشاء الـ Workout
            $workout = Workout::firstOrCreate(
                ['slug' => $slug],
                [
                    'name'        => $arabicName,
                    'description' => $descriptions[$slug],
                ]
            );

            // 2) إنشاء وربط التمارين
            foreach ($groupExercises[$slug] as $exerciseName) {

                $exercise = Exercise::firstOrCreate(
                    ['name' => $exerciseName],
                    ['instructions' => $instructions[$slug]]
                );

                // 3) ربط التمرين بالـ Workout إذا لم يكن موجوداً
                if (! $workout->exercises->contains($exercise->id)) {
                    $workout->exercises()->attach($exercise->id, [
                        'sets' => rand(3, 4),
                        'reps' => rand(8, 15)
                    ]);
                }
            }
        }
    }
}
